<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axtra Product Page Builder - Professional Edition</title>
    <link rel="stylesheet" href="css/styles-v2.css">
</head>
<body>
    <div class="builder-app">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <img src="assets/logo/LOGO BLACK.png" alt="Axtra" class="logo-img">
                </div>
                
                <div class="header-actions">
                    <button class="btn-secondary btn-sm desktop-only" id="clearDataBtn" title="Clear all data and start fresh">
                        Reset
                    </button>
                    <button class="btn-secondary btn-sm desktop-only" id="saveDraftBtn">
                        Save Draft
                    </button>
                    <button class="btn-secondary btn-sm desktop-only" id="previewToggleBtn">
                        <span class="toggle-text">Show Preview</span>
                    </button>
                    <button class="btn-primary btn-sm" id="openFullPreviewBtn" title="Open full page in new window">
                        Preview
                    </button>
                    <button class="btn-icon" id="mobileMenuBtn" title="More options">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="10" cy="4" r="1.5" fill="currentColor"/>
                            <circle cx="10" cy="10" r="1.5" fill="currentColor"/>
                            <circle cx="10" cy="16" r="1.5" fill="currentColor"/>
                        </svg>
                    </button>
                </div>
                
                <!-- Mobile Menu Dropdown -->
                <div class="mobile-menu" id="mobileMenu">
                    <button class="mobile-menu-item" id="mobilePreviewToggle">
                        <span class="mobile-toggle-text">Show Preview</span>
                    </button>
                    <button class="mobile-menu-item" id="mobileSaveDraft">Save Draft</button>
                    <button class="mobile-menu-item" id="mobileClearData">Reset</button>
                </div>
            </div>
            
            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Sections</div>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Design</div>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Products</div>
                </div>
            </div>
        </header>

        <!-- Workspace -->
        <main class="workspace">
            <!-- Left Panel: Form Steps -->
            <div class="form-panel">
                <div class="form-container">
                    
                    <!-- STEP 1: PAGE SECTIONS -->
                    <div class="step-content active" id="step1">
                        <div class="step-header">
                            <h1>Page Sections & Layout</h1>
                            <p>Choose which sections to include and their layout style</p>
                        </div>
                        
                        <!-- Section Manager -->
                        <div class="form-section">
                            <label class="form-label">Page Sections</label>
                            <p class="field-hint">Toggle sections on/off and choose layouts</p>
                            
                            <!-- Hero Section -->
                            <div class="section-control">
                                <div class="section-header">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="heroEnabled" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <div class="section-info">
                                        <h3>Hero Section</h3>
                                        <p>Main headline and call-to-action</p>
                                    </div>
                                </div>
                                <div class="section-options" id="heroOptions">
                                    <div class="form-group">
                                        <label class="form-label">Layout Style</label>
                                        <div class="radio-group-inline">
                                            <label><input type="radio" name="heroLayout" value="centered" checked> Centered</label>
                                            <label><input type="radio" name="heroLayout" value="split"> Split</label>
                                            <label><input type="radio" name="heroLayout" value="minimal"> Minimal</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Headline</label>
                                        <input type="text" class="form-input" id="heroHeadline" placeholder="Transform Your Life Today">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Subheadline</label>
                                        <textarea class="form-input" id="heroSubheadline" rows="2" placeholder="Discover amazing products..."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="heroShowCTA" checked>
                                            Show Call-to-Action Button
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Products Section -->
                            <div class="section-control">
                                <div class="section-header">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="productsEnabled" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <div class="section-info">
                                        <h3>Products Section</h3>
                                        <p>Display your product catalog</p>
                                    </div>
                                </div>
                                <div class="section-options" id="productsOptions">
                                    <div class="form-group">
                                        <label class="form-label">Layout Style</label>
                                        <div class="radio-group-inline">
                                            <label><input type="radio" name="productsLayout" value="grid" checked> Grid</label>
                                            <label><input type="radio" name="productsLayout" value="list"> List</label>
                                            <label><input type="radio" name="productsLayout" value="masonry"> Masonry</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Grid Columns</label>
                                        <div class="radio-group-inline">
                                            <label><input type="radio" name="productsColumns" value="2"> 2 Columns</label>
                                            <label><input type="radio" name="productsColumns" value="3" checked> 3 Columns</label>
                                            <label><input type="radio" name="productsColumns" value="4"> 4 Columns</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="productsShowDescription" checked>
                                            Show Product Descriptions
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="productsShowPricing" checked>
                                            Show Pricing
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- About Section -->
                            <div class="section-control">
                                <div class="section-header">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="aboutEnabled">
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <div class="section-info">
                                        <h3>About Section</h3>
                                        <p>Tell your brand story</p>
                                    </div>
                                </div>
                                <div class="section-options" id="aboutOptions" style="display: none;">
                                    <div class="form-group">
                                        <label class="form-label">Layout Style</label>
                                        <div class="radio-group-inline">
                                            <label><input type="radio" name="aboutLayout" value="two-column" checked> Two Column</label>
                                            <label><input type="radio" name="aboutLayout" value="centered"> Centered</label>
                                            <label><input type="radio" name="aboutLayout" value="side-image"> Side Image</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Headline</label>
                                        <input type="text" class="form-input" id="aboutHeadline" placeholder="About Us">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Content</label>
                                        <textarea class="form-input" id="aboutContent" rows="4" placeholder="Tell your brand story..."></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contact Section -->
                            <div class="section-control">
                                <div class="section-header">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="contactEnabled">
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <div class="section-info">
                                        <h3>Contact Section</h3>
                                        <p>Contact form or details</p>
                                    </div>
                                </div>
                                <div class="section-options" id="contactOptions" style="display: none;">
                                    <div class="form-group">
                                        <label class="form-label">Layout Style</label>
                                        <div class="radio-group-inline">
                                            <label><input type="radio" name="contactLayout" value="form" checked> Form</label>
                                            <label><input type="radio" name="contactLayout" value="details"> Details</label>
                                            <label><input type="radio" name="contactLayout" value="map"> With Map</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-input" id="contactEmail" placeholder="hello@example.com">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Phone</label>
                                        <input type="tel" class="form-input" id="contactPhone" placeholder="+1 (555) 123-4567">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Address</label>
                                        <textarea class="form-input" id="contactAddress" rows="2" placeholder="123 Business Street, City, State 12345"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <button class="btn-primary" data-next="2">Continue to Design →</button>
                        </div>
                    </div>

                    <!-- STEP 2: DESIGN & BRANDING -->
                    <div class="step-content" id="step2">
                        <div class="step-header">
                            <h1>Design & Branding</h1>
                            <p>Choose your industry and design style</p>
                        </div>
                        
                        <!-- Industry Selection -->
                        <div class="form-section">
                            <label class="form-label">Industry *</label>
                            <p class="field-hint">We'll apply industry-specific templates and best practices</p>
                            
                            <div class="industry-grid">
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="saas">
                                    <div class="industry-content">
                                        <div class="industry-name">SaaS</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="ecommerce">
                                    <div class="industry-content">
                                        <div class="industry-name">E-commerce</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="education">
                                    <div class="industry-content">
                                        <div class="industry-name">Education</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="finance">
                                    <div class="industry-content">
                                        <div class="industry-name">Finance</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="healthcare">
                                    <div class="industry-content">
                                        <div class="industry-name">Healthcare</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="marketing">
                                    <div class="industry-content">
                                        <div class="industry-name">Marketing</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="realestate">
                                    <div class="industry-content">
                                        <div class="industry-name">Real Estate</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="nonprofit">
                                    <div class="industry-content">
                                        <div class="industry-name">Non-Profit</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="tech">
                                    <div class="industry-content">
                                        <div class="industry-name">Technology</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="food">
                                    <div class="industry-content">
                                        <div class="industry-name">Food & Beverage</div>
                                    </div>
                                </label>
                                
                                <label class="industry-card">
                                    <input type="radio" name="industry" value="other">
                                    <div class="industry-content">
                                        <div class="industry-name">Other</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Design Style -->
                        <div class="form-section">
                            <label class="form-label">Design Style *</label>
                            <p class="field-hint">Choose the visual approach for your page</p>
                            <div class="style-grid">
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="minimal">
                                    <div class="style-preview minimal-preview"></div>
                                    <div class="style-name">Minimal</div>
                                    <div class="style-desc">Clean & spacious</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="bold">
                                    <div class="style-preview bold-preview"></div>
                                    <div class="style-name">Bold</div>
                                    <div class="style-desc">Strong & vibrant</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="professional">
                                    <div class="style-preview professional-preview"></div>
                                    <div class="style-name">Professional</div>
                                    <div class="style-desc">Corporate & trustworthy</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="creative">
                                    <div class="style-preview creative-preview"></div>
                                    <div class="style-name">Creative</div>
                                    <div class="style-desc">Artistic & unique</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="elegant">
                                    <div class="style-preview elegant-preview"></div>
                                    <div class="style-name">Elegant</div>
                                    <div class="style-desc">Luxurious & refined</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="modern">
                                    <div class="style-preview modern-preview"></div>
                                    <div class="style-name">Modern</div>
                                    <div class="style-desc">Trendy & contemporary</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="playful">
                                    <div class="style-preview playful-preview"></div>
                                    <div class="style-name">Playful</div>
                                    <div class="style-desc">Fun & friendly</div>
                                </label>
                                
                                <label class="style-card">
                                    <input type="radio" name="designStyle" value="technical">
                                    <div class="style-preview technical-preview"></div>
                                    <div class="style-name">Technical</div>
                                    <div class="style-desc">Data-driven & precise</div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Brand Colors -->
                        <div class="form-section">
                            <label class="form-label">Brand Colors</label>
                            <p class="field-hint">Customize your color palette or use our smart defaults</p>
                            <div class="color-inputs">
                                <div class="form-group">
                                    <label>Primary Color</label>
                                    <input type="color" id="primaryColor" value="#667eea">
                                </div>
                                <div class="form-group">
                                    <label>Secondary Color</label>
                                    <input type="color" id="secondaryColor" value="#764ba2">
                                </div>
                                <div class="form-group">
                                    <label>Accent Color</label>
                                    <input type="color" id="accentColor" value="#48bb78">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Customization (Progressive Disclosure) -->
                        <div class="form-section">
                            <button class="btn-ghost btn-sm" id="toggleAdvancedDesign" type="button">
                                Customize Layout & Effects
                            </button>
                            
                            <div id="advancedDesignOptions" style="display: none; margin-top: 16px;">
                                <!-- Spacing -->
                                <div class="form-group" style="margin-bottom: 16px;">
                                    <label class="form-label">Spacing</label>
                                    <div class="radio-group-inline">
                                        <label><input type="radio" name="spacing" value="compact"> Compact</label>
                                        <label><input type="radio" name="spacing" value="comfortable" checked> Comfortable</label>
                                        <label><input type="radio" name="spacing" value="spacious"> Spacious</label>
                                    </div>
                                </div>
                                
                                <!-- Border Radius -->
                                <div class="form-group" style="margin-bottom: 16px;">
                                    <label class="form-label">Corners</label>
                                    <div class="radio-group-inline">
                                        <label><input type="radio" name="borderRadius" value="sharp"> Sharp</label>
                                        <label><input type="radio" name="borderRadius" value="rounded" checked> Rounded</label>
                                        <label><input type="radio" name="borderRadius" value="pill"> Pill</label>
                                    </div>
                                </div>
                                
                                <!-- Shadows -->
                                <div class="form-group" style="margin-bottom: 16px;">
                                    <label class="form-label">Shadows</label>
                                    <div class="radio-group-inline">
                                        <label><input type="radio" name="shadows" value="none"> None</label>
                                        <label><input type="radio" name="shadows" value="subtle" checked> Subtle</label>
                                        <label><input type="radio" name="shadows" value="dramatic"> Dramatic</label>
                                    </div>
                                </div>
                                
                                <!-- Animations -->
                                <div class="form-group">
                                    <label class="form-label">Animations</label>
                                    <div class="radio-group-inline">
                                        <label><input type="radio" name="animations" value="none"> None</label>
                                        <label><input type="radio" name="animations" value="subtle" checked> Subtle</label>
                                        <label><input type="radio" name="animations" value="playful"> Playful</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <button class="btn-secondary" data-prev="1">← Back</button>
                            <button class="btn-primary" data-next="3">Continue to Products →</button>
                        </div>
                    </div>

                    <!-- STEP 3: PRODUCT SETUP -->
                    <div class="step-content" id="step3">
                        <div class="step-header">
                            <h1>Product Setup</h1>
                            <p>Add your products with pricing, images, and details</p>
                        </div>
                        
                        <!-- Products List -->
                        <div class="products-section">
                            <div class="section-title-row">
                                <h3>Your Products</h3>
                                <button class="btn-primary btn-sm" id="addProductBtn">+ Add Product</button>
                            </div>
                            
                            <div id="productsList" class="products-list">
                                <!-- Product cards will be added here -->
                                <div class="empty-state" id="emptyProducts">
                                    <p>No products yet. Click "Add Product" to get started.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <button class="btn-secondary" data-prev="2">← Back</button>
                            <button class="btn-primary" id="generatePageBtn">Generate Product Page</button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Right Panel: Live Preview -->
            <div class="preview-panel" id="previewPanel">
                <div class="preview-header">
                    <div class="preview-title">Live Preview</div>
                    <button class="preview-close-btn" id="previewCloseBtn" title="Close Preview">✕</button>
                    <div class="device-toggle">
                        <button class="device-btn active" data-device="desktop" title="Desktop">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="1" y="3" width="14" height="9" stroke="currentColor" stroke-width="1.5"/>
                                <line x1="5" y1="15" x2="11" y2="15" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                        <button class="device-btn" data-device="tablet" title="Tablet">
                            <svg width="14" height="16" viewBox="0 0 14 16" fill="none">
                                <rect x="1" y="1" width="12" height="14" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="7" cy="13" r="0.5" fill="currentColor"/>
                            </svg>
                        </button>
                        <button class="device-btn" data-device="mobile" title="Mobile">
                            <svg width="10" height="16" viewBox="0 0 10 16" fill="none">
                                <rect x="1" y="1" width="8" height="14" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                <line x1="4" y1="13" x2="6" y2="13" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="preview-viewport" data-device="desktop">
                    <div class="preview-frame">
                        <div id="livePreview" class="preview-content">
                            <div class="preview-placeholder">
                                <p>Add products to see your page come to life</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="modalTitle">Add Product</h2>
                <button class="modal-close" onclick="closeProductModal()">×</button>
            </div>
            
            <div class="modal-body">
                <!-- Basic Info -->
                <div class="form-group">
                    <label>Product Name *</label>
                    <input type="text" class="form-input" id="productName" placeholder="Premium Cotton T-Shirt">
                </div>
                
                <div class="form-group">
                    <label>Product Type</label>
                    <select class="form-select" id="productType">
                        <option value="physical">Physical Product</option>
                        <option value="digital">Digital Product</option>
                        <option value="service">Service</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Base Price (RM) *</label>
                        <input type="number" class="form-input" id="productPrice" placeholder="49.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Compare At Price (RM)</label>
                        <input type="number" class="form-input" id="productComparePrice" placeholder="79.00" step="0.01">
                        <small style="color: var(--gray-500); font-size: 12px;">Original price (shows as strikethrough)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-textarea" id="productDescription" rows="3" placeholder="High-quality cotton t-shirt with premium finishing..."></textarea>
                </div>
                
                <!-- Images -->
                <div class="form-group">
                    <label>Product Images</label>
                    <input type="file" class="form-input" id="productImages" accept="image/*" multiple>
                    <small style="color: var(--gray-500); font-size: 12px;">Upload multiple images. First image will be the main image.</small>
                    <div id="imagePreviewContainer" style="display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap;"></div>
                </div>
                
                <!-- Inventory -->
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="trackInventory" checked>
                        Track Inventory
                    </label>
                </div>
                
                <div class="form-row" id="inventoryFields">
                    <div class="form-group">
                        <label>Stock Quantity</label>
                        <input type="number" class="form-input" id="productStock" placeholder="100" min="0">
                    </div>
                    <div class="form-group">
                        <label>SKU</label>
                        <input type="text" class="form-input" id="productSKU" placeholder="TS-001">
                    </div>
                </div>
                
                <!-- Variants -->
                <div class="form-section" style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--color-border);">
                    <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                        <input type="checkbox" id="hasVariants">
                        <strong>This product has variants (e.g., Size, Color)</strong>
                    </label>
                    
                    <div id="variantsSection" style="display: none;">
                        <!-- Variant Types -->
                        <div class="form-group">
                            <label>Variant Options</label>
                            <div id="variantOptions">
                                <!-- Variant options will be added here -->
                            </div>
                            <button type="button" class="btn-ghost btn-sm" onclick="addVariantOption()" style="margin-top: 8px;">+ Add Option (e.g., Size, Color)</button>
                        </div>
                        
                        <!-- Variant Combinations -->
                        <div id="variantCombinations" style="margin-top: 16px;">
                            <!-- Auto-generated variant combinations will appear here -->
                        </div>
                    </div>
                </div>
                
                <!-- Shipping (for physical products) -->
                <div class="form-section" id="shippingSection" style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--color-border);">
                    <label style="margin-bottom: 16px;"><strong>Shipping Information</strong></label>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Weight (kg)</label>
                            <input type="number" class="form-input" id="productWeight" placeholder="0.5" step="0.01">
                        </div>
                        <div class="form-group">
                            <label>Dimensions (L×W×H cm)</label>
                            <input type="text" class="form-input" id="productDimensions" placeholder="30×20×5">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeProductModal()">Cancel</button>
                <button class="btn-primary" id="saveProductBtn">Save Product</button>
            </div>
        </div>
    </div>

    <script src="js/design-engine.js"></script>
    <script src="js/app-v2.js"></script>
</body>
</html>
